
<!DOCTYPE html>
<html>
<head>
  <title>Malawi District Graph Layout</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div style="padding: 50px;text-align: center;">
        <svg width="800" height="800"></svg>
        <script>
        const width = 600, height = 600;
        const nodes = [{"id":"Blantyre","x":1,"y":0.3571026696241687},{"id":"Chikwawa","x":0,"y":0.7669619026636249},{"id":"Chiradzulu","x":1,"y":0.6718486229581117},{"id":"Chitipa","x":0.44560262119385907,"y":1},{"id":"Dedza","x":0.6021558500129908,"y":0},{"id":"Dowa","x":0,"y":0.3910217947060456},{"id":"Karonga","x":1,"y":0.4837067905312821},{"id":"Kasungu","x":1,"y":0},{"id":"Lilongwe","x":0.4023419336842003,"y":0},{"id":"Machinga","x":0.6043752998899934,"y":1},{"id":"Mangochi","x":0,"y":0},{"id":"Mchinji","x":0.8981323668051775,"y":0},{"id":"Mulanje","x":0.7985219909664871,"y":1},{"id":"Mwanza","x":0,"y":1},{"id":"Mzimba","x":0,"y":0.18619566384148198},{"id":"Neno","x":1,"y":0.8382197869056516},{"id":"Nkhata Bay","x":0,"y":0},{"id":"Nkhotakota","x":0,"y":0},{"id":"Nsanje","x":0.18548270234631226,"y":1},{"id":"Ntcheu","x":1,"y":0},{"id":"Ntchisi","x":0,"y":1},{"id":"Phalombe","x":1,"y":1},{"id":"Rumphi","x":0.7406166331326707,"y":0},{"id":"Salima","x":0,"y":0},{"id":"Thyolo","x":1,"y":1},{"id":"Zomba","x":1,"y":1},{"id":"Balaka","x":0,"y":0.5330372873189809},{"id":"Likoma","x":0,"y":1}];
        const links = [{"source":"Blantyre","target":"Chikwawa"},{"source":"Blantyre","target":"Chiradzulu"},{"source":"Blantyre","target":"Thyolo"},{"source":"Chikwawa","target":"Nsanje"},{"source":"Chikwawa","target":"Mwanza"},{"source":"Chiradzulu","target":"Zomba"},{"source":"Chiradzulu","target":"Phalombe"},{"source":"Chitipa","target":"Karonga"},{"source":"Dedza","target":"Lilongwe"},{"source":"Dedza","target":"Ntcheu"},{"source":"Dowa","target":"Lilongwe"},{"source":"Dowa","target":"Ntchisi"},{"source":"Karonga","target":"Rumphi"},{"source":"Kasungu","target":"Lilongwe"},{"source":"Kasungu","target":"Mzimba"},{"source":"Lilongwe","target":"Mchinji"},{"source":"Lilongwe","target":"Salima"},{"source":"Machinga","target":"Zomba"},{"source":"Machinga","target":"Balaka"},{"source":"Mangochi","target":"Balaka"},{"source":"Mangochi","target":"Salima"},{"source":"Mulanje","target":"Phalombe"},{"source":"Mulanje","target":"Thyolo"},{"source":"Mwanza","target":"Neno"},{"source":"Mzimba","target":"Nkhata Bay"},{"source":"Mzimba","target":"Rumphi"},{"source":"Nkhata Bay","target":"Nkhotakota"},{"source":"Nkhotakota","target":"Salima"},{"source":"Nsanje","target":"Chikwawa"},{"source":"Ntcheu","target":"Balaka"},{"source":"Ntchisi","target":"Nkhotakota"},{"source":"Phalombe","target":"Mulanje"},{"source":"Salima","target":"Nkhotakota"},{"source":"Zomba","target":"Machinga"}];

        const svg = d3.select("svg");
        const nodeById = {};
        nodes.forEach(d => nodeById[d.id] = d);

        svg.selectAll("line")
        .data(links)
        .enter()
        .append("line")
        .attr("x1", d => nodeById[d.source].x * width)
        .attr("y1", d => nodeById[d.source].y * height)
        .attr("x2", d => nodeById[d.target].x * width)
        .attr("y2", d => nodeById[d.target].y * height)
        .attr("stroke", "#999")
        .attr("stroke-width", 1);

        svg.selectAll("circle")
        .data(nodes)
        .enter()
        .append("circle")
        .attr("cx", d => d.x * width)
        .attr("cy", d => d.y * height)
        .attr("r", 5)
        .attr("fill", "steelblue");

        svg.selectAll("text")
        .data(nodes)
        .enter()
        .append("text")
        .attr("x", d => d.x * width + 10)
        .attr("y", (d, i) => d.y * height + 1 + i * 2.9)
        .style("text-anchor", d => d.x < 0.5 ? "start" : "end")
        .text(d => d.id)
        .attr("font-size", "10px");
        </script>
    </div>
</body>
</html>
